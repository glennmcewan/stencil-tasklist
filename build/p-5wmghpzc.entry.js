import{r as t,h as s,c as e}from"./p-8c7de2ef.js";const i=class{constructor(s){t(this,s)}render(){return s("div",null,s("header",{class:"page-header"},s("h1",null,"TodoMVC StencilJS Example")),s("main",null,s("task-app",null)))}static get style(){return".page-header{background:#5851ff;color:#fff;height:56px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26)}h1{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px}"}};class l{constructor(t,s,e=Date.now()){this.value=t,this.completed=s,this.id=e}}class n{constructor(){this.storage_key="stencil_tasklist",this.items=[]}load(){return window.localStorage&&(this.items=JSON.parse(window.localStorage.getItem(this.storage_key)||"[]")),this.items}save(){return window.localStorage&&window.localStorage.setItem(this.storage_key,JSON.stringify(this.items)),this.items}add(t){return this.items=[...this.items,t],this.save()}delete(t){return this.items=this.items.filter(s=>s.id!==t.id),this.save()}markCompleted(t){return t.completed=!0,this.items=[...this.items],this.save()}markUncompleted(t){return t.completed=!1,this.items=[...this.items],this.save()}}const r=class{constructor(s){t(this,s),this.service=new n}componentWillLoad(){this.taskList=this.service.load()}createItemFromInput(t){if(13!==t.keyCode)return;const s=t.target;if(!s.value)return;let e=new l(s.value);this.taskList=this.service.add(e),s.value=""}markItemDeleted(t){this.taskList=this.service.delete(t.detail)}markItemCompleted(t){this.taskList=this.service.markCompleted(t.detail)}markItemUncompleted(t){this.taskList=this.service.markUncompleted(t.detail)}render(){const t=this.taskList.length;return s("section",{class:"todoapp"},s("header",{class:"header"},s("h1",null,"Your Tasklist"),s("input",{class:"new-todo",placeholder:"What's next on the list?",onKeyUp:t=>this.createItemFromInput(t)})),t>0?s("section",{class:"main"},s("task-list",{items:this.taskList})):"",s("footer",{class:"footer"},s("span",{class:"todo-count"},s("strong",null,t)," ",1===t?"item":"items"," left")))}static get style(){return"task-app{display:block;padding:10px;max-width:550px;margin:0 auto}button{background:#5851ff;color:#fff;margin:8px;border:none;font-size:13px;font-weight:700;text-transform:uppercase;padding:16px 20px;border-radius:2px;-webkit-box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);outline:0;letter-spacing:.04em;-webkit-transition:all .15s ease;transition:all .15s ease;cursor:pointer}button:hover{-webkit-box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);-webkit-transform:translateY(1px);transform:translateY(1px)}"}},o=class{constructor(s){t(this,s),this.markDeletedEvent=e(this,"markDeletedEvent",7),this.markCompletedEvent=e(this,"markCompletedEvent",7),this.markUncompletedEvent=e(this,"markUncompletedEvent",7)}handleCompleteToggle(t){!0===t.completed?this.markUncompletedEvent.emit(t):this.markCompletedEvent.emit(t)}deleteItem(t){this.markDeletedEvent.emit(t)}render(){return s("ul",{class:"todo-list"},this.items.map(t=>s("li",null,s("div",{class:"view"},s("input",{class:"toggle",type:"checkbox",checked:t.completed,onChange:()=>this.handleCompleteToggle(t)}),s("label",null,t.value),s("button",{class:"destroy",onClick:()=>this.deleteItem(t)})))))}};export{i as app_root,r as task_app,o as task_list};